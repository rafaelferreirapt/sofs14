<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>SOFS14: sofs_superblock.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SOFS14
   &#160;<span id="projectnumber">1.0</span>
   </div>
   <div id="projectbrief">FUSE based file system</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sofs__superblock_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a>  </div>
  <div class="headertitle">
<div class="title">sofs_superblock.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Definition of the superblock data type.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdint.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="sofs__const_8h_source.html">sofs_const.h</a>&quot;</code><br/>
</div>
<p><a href="sofs__superblock_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structf_c_node.html">fCNode</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the reference cache data type.  <a href="structf_c_node.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structso_super_block.html">soSuperBlock</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the superblock data type.  <a href="structso_super_block.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a54061e5993a5517320d425f44408cc86"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54061e5993a5517320d425f44408cc86"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#a54061e5993a5517320d425f44408cc86">MAGIC_NUMBER</a>&#160;&#160;&#160;(0x65FE)</td></tr>
<tr class="memdesc:a54061e5993a5517320d425f44408cc86"><td class="mdescLeft">&#160;</td><td class="mdescRight">sofs14 magic number <br/></td></tr>
<tr class="separator:a54061e5993a5517320d425f44408cc86"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affb1ffbd24de6be88bd8ac877aae1688"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="affb1ffbd24de6be88bd8ac877aae1688"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#affb1ffbd24de6be88bd8ac877aae1688">VERSION_NUMBER</a>&#160;&#160;&#160;(0x2014)</td></tr>
<tr class="memdesc:affb1ffbd24de6be88bd8ac877aae1688"><td class="mdescLeft">&#160;</td><td class="mdescRight">sofs14 version number <br/></td></tr>
<tr class="separator:affb1ffbd24de6be88bd8ac877aae1688"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ec7917ef708e5650356892410c1731d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8ec7917ef708e5650356892410c1731d"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#a8ec7917ef708e5650356892410c1731d">PARTITION_NAME_SIZE</a>&#160;&#160;&#160;(23)</td></tr>
<tr class="memdesc:a8ec7917ef708e5650356892410c1731d"><td class="mdescLeft">&#160;</td><td class="mdescRight">maximum length of volume name <br/></td></tr>
<tr class="separator:a8ec7917ef708e5650356892410c1731d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb43e6232e4956247729eca84f752f4b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afb43e6232e4956247729eca84f752f4b"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#afb43e6232e4956247729eca84f752f4b">PRU</a>&#160;&#160;&#160;0</td></tr>
<tr class="memdesc:afb43e6232e4956247729eca84f752f4b"><td class="mdescLeft">&#160;</td><td class="mdescRight">constant signaling the file system was properly unmounted the last time it was mounted <br/></td></tr>
<tr class="separator:afb43e6232e4956247729eca84f752f4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8e692b6f5a0ca4b09a2fbbbe20c2056"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab8e692b6f5a0ca4b09a2fbbbe20c2056"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#ab8e692b6f5a0ca4b09a2fbbbe20c2056">NPRU</a>&#160;&#160;&#160;1</td></tr>
<tr class="memdesc:ab8e692b6f5a0ca4b09a2fbbbe20c2056"><td class="mdescLeft">&#160;</td><td class="mdescRight">constant signaling the file system was not properly unmounted the last time it was mounted <br/></td></tr>
<tr class="separator:ab8e692b6f5a0ca4b09a2fbbbe20c2056"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca04cd0c38fd7f8aecc69a60019d57eb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aca04cd0c38fd7f8aecc69a60019d57eb"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#aca04cd0c38fd7f8aecc69a60019d57eb">NULL_BLOCK</a>&#160;&#160;&#160;((uint32_t)(~0U))</td></tr>
<tr class="memdesc:aca04cd0c38fd7f8aecc69a60019d57eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">reference to a null data block <br/></td></tr>
<tr class="separator:aca04cd0c38fd7f8aecc69a60019d57eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af08f5445fdda6b23d72b042ad3877bd0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af08f5445fdda6b23d72b042ad3877bd0"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#af08f5445fdda6b23d72b042ad3877bd0">DZONE_CACHE_SIZE</a>&#160;&#160;&#160;(50)</td></tr>
<tr class="memdesc:af08f5445fdda6b23d72b042ad3877bd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of cache <br/></td></tr>
<tr class="separator:af08f5445fdda6b23d72b042ad3877bd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4526e75057899730da78165d051fb15"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad4526e75057899730da78165d051fb15"></a>
#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#ad4526e75057899730da78165d051fb15">RESERV_AREA_SIZE</a>&#160;&#160;&#160;(<a class="el" href="sofs__const_8h.html#ad51ded0bbd705f02f73fc60c0b721ced">BLOCK_SIZE</a> - <a class="el" href="sofs__superblock_8h.html#a8ec7917ef708e5650356892410c1731d">PARTITION_NAME_SIZE</a> + 1 - 15 * sizeof(uint32_t) - 2 * sizeof(struct <a class="el" href="structf_c_node.html">fCNode</a>))</td></tr>
<tr class="memdesc:ad4526e75057899730da78165d051fb15"><td class="mdescLeft">&#160;</td><td class="mdescRight">size of reserved area <br/></td></tr>
<tr class="separator:ad4526e75057899730da78165d051fb15"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ab3d7af66934f6eb4e2f28e2918b88133"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structso_super_block.html">soSuperBlock</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sofs__superblock_8h.html#ab3d7af66934f6eb4e2f28e2918b88133">SOSuperBlock</a></td></tr>
<tr class="memdesc:ab3d7af66934f6eb4e2f28e2918b88133"><td class="mdescLeft">&#160;</td><td class="mdescRight">Definition of the superblock data type.  <a href="#ab3d7af66934f6eb4e2f28e2918b88133">More...</a><br/></td></tr>
<tr class="separator:ab3d7af66934f6eb4e2f28e2918b88133"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Definition of the superblock data type. </p>
<p>(interface file)</p>
<p>It specifies the file system metadata which describes its internal architecture.</p>
<dl class="section author"><dt>Author</dt><dd>Artur Carneiro Pereira - September 2008 </dd>
<dd>
Miguel Oliveira e Silva - September 2009 </dd>
<dd>
Ant√≥nio Rui Borges - September 2010 / September 2014 </dd></dl>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ab3d7af66934f6eb4e2f28e2918b88133"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structso_super_block.html">soSuperBlock</a>  <a class="el" href="sofs__superblock_8h.html#ab3d7af66934f6eb4e2f28e2918b88133">SOSuperBlock</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition of the superblock data type. </p>
<p>It contains global information about the file system layout, namely the size and the location of the remaining parts.</p>
<p>It is divided in: </p>
<ul>
<li><em>header</em> - that contains data about the type, the version, the name, the size in number of physical blocks and the consistency status </li>
<li><em>inode table metadata</em> - concerning its location, size in number of blocks, total number of inodes and number of free inodes; the inode table is primarily designed as an array of inodes; however, the free inodes form a double-linked list whose head and tail location are also provided (it may be seen as a dynamic FIFO that links together, using the inodes themselves as nodes, all the free inodes) </li>
<li><em>data zone metadata</em> - concerning its location, size in total number of data clusters, number of free data clusters and its three main reference components: the insertion and retrieval caches that provide an easy access temporary storage to references (static structures resident within the superblock itself) and the location of the head and the tail of the general repository of free data clusters double-linked list (dynamic FIFO that links together, using the data clusters themselves as nodes, all the free data clusters whose references are not in the above mentioned caches). </li>
</ul>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_41b98d4f55b8bea9fa3fea214b895971.html">sofs14</a></li><li class="navelem"><a class="el" href="sofs__superblock_8h.html">sofs_superblock.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
